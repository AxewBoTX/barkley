datasource db {
    provider = "sqlite"
    url      = "file:base.db"
}

generator client {
    provider = "go run github.com/steebchen/prisma-client-go"
}

model Project {
    id       String    @id @default(uuid())
    name     String
    sections Section[]
}

model Section {
    id         String  @id @default(uuid())
    heading    String
    tasks      Task[]
    project_id String
    project    Project @relation(fields: [project_id], references: [id])
}

model Task {
    id          String    @id @default(uuid())
    heading     String
    description String?
    priority    Int       @default(4)
    done        Boolean   @default(false)
    created     DateTime  @default(now())
    subtasks    SubTask[]
    section     Section   @relation(fields: [section_id], references: [id])
    section_id  String
}

model SubTask {
    id          String  @id @default(uuid())
    heading     String
    description String?
    priority    Int     @default(4)
    done        Boolean @default(false)
    task        Task    @relation(fields: [task_id], references: [id])
    task_id     String
}
